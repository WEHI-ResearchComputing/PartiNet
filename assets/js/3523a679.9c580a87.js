"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[127],{4139:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"stages/star","title":"3. STAR","description":"The partinet star command is the final step in your particle picking pipeline. It converts the particle coordinates detected in the previous stage into a standardized STAR file format that can be used with downstream cryo-EM processing software like RELION, cryoSPARC, or other reconstruction programs.","source":"@site/docs/stages/star.md","sourceDirName":"stages","slug":"/stages/star","permalink":"/docs/stages/star","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/stages/star.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"2. Detect","permalink":"/docs/stages/detect"},"next":{"title":"Training","permalink":"/docs/category/training"}}');var i=r(4848),s=r(8453);const a={sidebar_position:3},o="3. STAR",c={},d=[{value:"Quick Start",id:"quick-start",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Input Requirements",id:"input-requirements",level:2},{value:"Confidence Threshold",id:"confidence-threshold",level:2},{value:"Output",id:"output",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"3-star",children:"3. STAR"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"partinet star"})," command is the final step in your particle picking pipeline. It converts the particle coordinates detected in the previous stage into a standardized STAR file format that can be used with downstream cryo-EM processing software like RELION, cryoSPARC, or other reconstruction programs."]}),"\n",(0,i.jsx)(t.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",metastring:'title="Local Installation"',children:"partinet star \\\r\n    --labels /data/partinet_picking/exp/labels \\\r\n    --images /data/partinet_picking/denoised \\\r\n    --output /data/partinet_picking/output.star \\\r\n    --conf 0.1\n"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",metastring:'title="Apptainer/Singularity"',children:"apptainer exec --nv --no-home \\\r\n    -B /data oras://ghcr.io/wehi-researchcomputing/partinet:main-singularity partinet star \\\r\n    --labels /data/partinet_picking/exp/labels \\\r\n    --images /data/partinet_picking/denoised \\\r\n    --output /data/partinet_picking/output.star \\\r\n    --conf 0.1\n"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",metastring:'title="Docker"',children:"docker run --gpus all -v /data:/data \\\r\n    ghcr.io/wehi-researchcomputing/partinet:main partinet star \\\r\n    --labels /data/partinet_picking/exp/labels \\\r\n    --images /data/partinet_picking/denoised \\\r\n    --output /data/partinet_picking/output.star \\\r\n    --conf 0.1\n"})}),"\n",(0,i.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Required"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"--labels"})}),(0,i.jsx)(t.td,{children:"Path"}),(0,i.jsx)(t.td,{children:"Yes"}),(0,i.jsxs)(t.td,{children:["Directory containing the particle coordinate files (",(0,i.jsx)(t.code,{children:".txt"})," format) from the detection stage"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"--images"})}),(0,i.jsx)(t.td,{children:"Path"}),(0,i.jsx)(t.td,{children:"Yes"}),(0,i.jsx)(t.td,{children:"Directory containing the denoised micrographs corresponding to the labels"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"--output"})}),(0,i.jsx)(t.td,{children:"Path"}),(0,i.jsx)(t.td,{children:"Yes"}),(0,i.jsx)(t.td,{children:"Output path for the generated STAR file"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"--conf"})}),(0,i.jsx)(t.td,{children:"Float"}),(0,i.jsx)(t.td,{children:"Yes"}),(0,i.jsx)(t.td,{children:"Confidence threshold for filtering particle coordinates (0.0-1.0)"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"input-requirements",children:"Input Requirements"}),"\n",(0,i.jsx)(t.p,{children:"At this stage of the pipeline, your directory structure should look like:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"partinet_picking/\r\n\u251c\u2500\u2500 motion_corrected/          # \ud83d\udcc1 Your input micrographs\r\n\u2502   \u251c\u2500\u2500 micrograph1.mrc\r\n\u2502   \u251c\u2500\u2500 micrograph2.mrc\r\n\u2502   \u2514\u2500\u2500 ...\r\n\u251c\u2500\u2500 denoised/                  # \ud83e\uddf9 Created by denoise stage\r\n\u2502   \u251c\u2500\u2500 micrograph1.mrc\r\n\u2502   \u251c\u2500\u2500 micrograph2.mrc\r\n\u2502   \u2514\u2500\u2500 ...\r\n\u251c\u2500\u2500 exp/                       # \ud83c\udfaf Created by detect stage\r\n\u2502   \u251c\u2500\u2500 labels/               # \ud83d\udccb Detection coordinates\r\n\u2502   \u2502   \u251c\u2500\u2500 micrograph1.txt\r\n\u2502   \u2502   \u251c\u2500\u2500 micrograph2.txt\r\n\u2502   \u2502   \u2514\u2500\u2500 ...\r\n\u2502   \u251c\u2500\u2500 micrograph1.mrc       # \ud83d\uddbc\ufe0f Micrographs with detections drawn\r\n\u2502   \u251c\u2500\u2500 micrograph2.mrc\r\n\u2502   \u2514\u2500\u2500 ...\r\n\u2514\u2500\u2500 partinet_detect.log\r\n\u2514\u2500\u2500 partinet_denoise.log\n"})}),"\n",(0,i.jsx)(t.h2,{id:"confidence-threshold",children:"Confidence Threshold"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"--conf"})," parameter controls the quality filtering of detected particles:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Typical range"}),": 0.1-0.3 for most datasets"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Choose your confidence threshold based on:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Dataset quality and signal-to-noise ratio"}),"\n",(0,i.jsx)(t.li,{children:"Downstream processing requirements"}),"\n",(0,i.jsx)(t.li,{children:"Balance between particle quantity and quality"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"output",children:"Output"}),"\n",(0,i.jsx)(t.p,{children:"The command generates a STAR file containing:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Particle coordinates (X, Y positions)"}),"\n",(0,i.jsx)(t.li,{children:"Corresponding micrograph paths"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(t.p,{children:"After generating your STAR file, you can:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Import it into RELION/CryoSPARC for 2D classification and 3D reconstruction"}),"\n",(0,i.jsx)(t.li,{children:"Perform additional particle filtering or sorting based on your specific needs"}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.p,{children:["PartiNet Denoise flips micrographs in the y-axis due to matrix transpose operations. If you denoised micrographs in PartiNet ensure that when you import and extract particle coordinates that you toggle ",(0,i.jsx)(t.code,{children:"Flip in y"})," in CryoSPARC or similar in RELION prior to particle extraction."]})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>o});var n=r(6540);const i={},s=n.createContext(i);function a(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);